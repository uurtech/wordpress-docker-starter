(window.__wcAdmin_webpackJsonp=window.__wcAdmin_webpackJsonp||[]).push([[27],{265:function(e,t,n){"use strict";var r=n(12),o=n(97),c=n(42),i=n(34),a=n(38),l=n(109),s=n(102),u=n(89)("splice"),d=Math.max,f=Math.min;r({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var n,r,u,p,m,b,v=a(this),h=i(v.length),y=o(e,h),O=arguments.length;if(0===O?n=r=0:1===O?(n=0,r=h-y):(n=O-2,r=f(d(c(t),0),h-y)),h+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=l(v,r),p=0;p<r;p++)(m=y+p)in v&&s(u,p,v[m]);if(u.length=r,n<r){for(p=y;p<h-r;p++)b=p+n,(m=p+r)in v?v[b]=v[m]:delete v[b];for(p=h;p>h-r+n;p--)delete v[p-1]}else if(n>r)for(p=h-r;p>y;p--)b=p+n-1,(m=p+r-1)in v?v[b]=v[m]:delete v[b];for(p=0;p<n;p++)v[p+y]=arguments[p+2];return v.length=h-r+n,u}})},320:function(e,t,n){"use strict";var r=n(12),o=n(75).findIndex,c=n(118),i=!0;"findIndex"in[]&&Array(1).findIndex((function(){i=!1})),r({target:"Array",proto:!0,forced:i},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},598:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(0),o=n(141),c=n(247),i=n.n(c),a=n(85),l=i()(a.b),s=function(e){var t=l.getCurrencyConfig(),n=Object(o.applyFilters)("woocommerce_admin_report_currency",t,e);return i()(n)},u=Object(r.createContext)(l)},605:function(e,t,n){"use strict";n(64),n(53),n(60),n(49),n(61);var r=n(7),o=n.n(r),c=n(22),i=n.n(c),a=n(23),l=n.n(a),s=n(18),u=n.n(s),d=n(24),f=n.n(d),p=n(25),m=n.n(p),b=n(14),v=n.n(b),h=n(0),y=(n(41),n(107),n(37),n(203),n(88),n(65)),O=n(1),_=n.n(O),j=n(5),g=n(26),k=n(145),w=n(85),E=n(59),S=n(101),D=n(92),C=n(598),T=n(210);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var B=function(e){f()(n,e);var t=P(n);function n(){var e;return i()(this,n),(e=t.call(this)).onDateSelect=e.onDateSelect.bind(u()(e)),e.onFilterSelect=e.onFilterSelect.bind(u()(e)),e.onAdvancedFilterAction=e.onAdvancedFilterAction.bind(u()(e)),e}return l()(n,[{key:"onDateSelect",value:function(e){var t=this.props,n=t.report;(0,t.addCesSurveyForAnalytics)(),Object(D.recordEvent)("datepicker_update",x({report:n},Object(j.omitBy)(e,j.isUndefined)))}},{key:"onFilterSelect",value:function(e){var t=this.props,n=t.report,r=t.addCesSurveyForAnalytics,o=e.filter||e["filter-variations"];["single_product","single_category","single_coupon","single_variation"].includes(o)&&r(),Object(D.recordEvent)("analytics_filter",{report:n,filter:e.filter||"all"})}},{key:"onAdvancedFilterAction",value:function(e,t){var n=this.props,r=n.report,o=n.addCesSurveyForAnalytics;switch(e){case"add":Object(D.recordEvent)("analytics_filters_add",{report:r,filter:t.key});break;case"remove":Object(D.recordEvent)("analytics_filters_remove",{report:r,filter:t.key});break;case"filter":var c=Object.keys(t).reduce((function(e,n){return e[Object(j.snakeCase)(n)]=t[n],e}),{});o(),Object(D.recordEvent)("analytics_filters_filter",x({report:r},c));break;case"clear_all":Object(D.recordEvent)("analytics_filters_clear_all",{report:r});break;case"match":Object(D.recordEvent)("analytics_filters_all_any",{report:r,value:t.match})}}},{key:"render",value:function(){var e=this.props,t=e.advancedFilters,n=e.filters,r=e.path,o=e.query,c=e.showDatePicker,i=e.defaultDateRange,a=Object(S.getDateParamsFromQuery)(o,i),l=a.period,s=a.compare,u=a.before,d=a.after,f=Object(S.getCurrentDates)(o,i),p={period:l,compare:s,before:u,after:d,primaryDate:f.primary,secondaryDate:f.secondary},m=this.context;return Object(h.createElement)(k.ReportFilters,{query:o,siteLocale:w.c.siteLocale,currency:m.getCurrencyConfig(),path:r,filters:n,advancedFilters:t,showDatePicker:c,onDateSelect:this.onDateSelect,onFilterSelect:this.onFilterSelect,onAdvancedFilterAction:this.onAdvancedFilterAction,dateQuery:p,isoDateFormat:S.isoDateFormat})}}]),n}(h.Component);B.contextType=C.a,t.a=Object(y.compose)(Object(g.withSelect)((function(e){return{defaultDateRange:e(E.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings").woocommerce_default_date_range}})),Object(g.withDispatch)((function(e){return{addCesSurveyForAnalytics:e(T.c).addCesSurveyForAnalytics}})))(B),B.propTypes={advancedFilters:_.a.object,filters:_.a.array,path:_.a.string.isRequired,query:_.a.object,showDatePicker:_.a.bool,report:_.a.string.isRequired}},690:function(e,t,n){"use strict";n.r(t);n(37),n(53),n(60),n(61);var r=n(116),o=n.n(r),c=n(7),i=n.n(c),a=n(44),l=n.n(a),s=n(0),u=(n(51),n(248),n(100),n(151),n(123),n(146),n(66),n(49),n(192),n(320),n(265),n(41),n(2)),d=n(65),f=n(5),p=n(4),m=n(141),b=n(426),v=n(28),h=Object(s.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(v.Path,{d:"M2 12C2 6.44444 6.44444 2 12 2C17.5556 2 22 6.44444 22 12C22 17.5556 17.5556 22 12 22C6.44444 22 2 17.5556 2 12ZM13 11V7H11V11H7V13H11V17H13V13H17V11H13Z"})),y=n(26),O=n(145),_=n(59),j=n(50),g=n(101),k=n(92),w=(n(612),n(164),Object(s.lazy)((function(){return Promise.all([n.e(5),n.e(29)]).then(n.bind(null,713))}))),E=Object(s.lazy)((function(){return Promise.all([n.e(1),n.e(34)]).then(n.bind(null,715))})),S=Object(s.lazy)((function(){return n.e(48).then(n.bind(null,707))})),D=Object(m.applyFilters)("woocommerce_dashboard_default_sections",[{key:"store-performance",component:function(e){return Object(s.createElement)(s.Suspense,{fallback:Object(s.createElement)(O.Spinner,null)},Object(s.createElement)(S,e))},title:Object(u.__)("Performance",'woocommerce'),isVisible:!0,icon:"arrow-right-alt",hiddenBlocks:["coupons/amount","coupons/orders_count","downloads/download_count","taxes/order_tax","taxes/total_tax","taxes/shipping_tax","revenue/shipping","orders/avg_order_value","revenue/refunds","revenue/gross_sales"]},{key:"charts",component:function(e){return Object(s.createElement)(s.Suspense,{fallback:Object(s.createElement)(O.Spinner,null)},Object(s.createElement)(w,e))},title:Object(u.__)("Charts",'woocommerce'),isVisible:!0,icon:"chart-bar",hiddenBlocks:["orders_avg_order_value","avg_items_per_order","products_items_sold","revenue_total_sales","revenue_refunds","coupons_amount","coupons_orders_count","revenue_shipping","taxes_total_tax","taxes_order_tax","taxes_shipping_tax","downloads_download_count"]},{key:"leaderboards",component:function(e){return Object(s.createElement)(s.Suspense,{fallback:Object(s.createElement)(O.Spinner,null)},Object(s.createElement)(E,e))},title:Object(u.__)("Leaderboards",'woocommerce'),isVisible:!0,icon:"editor-ol",hiddenBlocks:["coupons","customers"]}]),C=(n(64),n(80)),T=n.n(C),F=n(22),x=n.n(F),P=n(23),B=n.n(P),R=n(18),A=n.n(R),I=n(24),M=n.n(I),V=n(25),H=n.n(V),N=n(14),U=n.n(N);function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U()(e);if(t){var o=U()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var L=function(e){M()(n,e);var t=q(n);function n(e){var r;return x()(this,n),(r=t.call(this,e)).onMoveUp=r.onMoveUp.bind(A()(r)),r.onMoveDown=r.onMoveDown.bind(A()(r)),r}return B()(n,[{key:"onMoveUp",value:function(){var e=this.props,t=e.onMove,n=e.onToggle;t(-1),n()}},{key:"onMoveDown",value:function(){var e=this.props,t=e.onMove,n=e.onToggle;t(1),n()}},{key:"render",value:function(){var e=this.props,t=e.onRemove,n=e.isFirst,r=e.isLast,o=e.onTitleBlur,c=e.onTitleChange,i=e.titleInput;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:"woocommerce-ellipsis-menu__item"},Object(s.createElement)(p.TextControl,{label:Object(u.__)("Section Title",'woocommerce'),onBlur:o,onChange:c,required:!0,value:i})),Object(s.createElement)("div",{className:"woocommerce-dashboard-section-controls"},!n&&Object(s.createElement)(O.MenuItem,{isClickable:!0,onInvoke:this.onMoveUp},Object(s.createElement)(p.Icon,{icon:"arrow-up-alt2",label:Object(u.__)("Move up")}),Object(u.__)("Move up",'woocommerce')),!r&&Object(s.createElement)(O.MenuItem,{isClickable:!0,onInvoke:this.onMoveDown},Object(s.createElement)(p.Icon,{icon:"arrow-down-alt2",label:Object(u.__)("Move Down")}),Object(u.__)("Move Down",'woocommerce')),Object(s.createElement)(O.MenuItem,{isClickable:!0,onInvoke:t},Object(s.createElement)(p.Icon,{icon:"trash",label:Object(u.__)("Remove block")}),Object(u.__)("Remove section",'woocommerce'))))}}]),n}(s.Component);function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U()(e);if(t){var o=U()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var z=function(e){M()(n,e);var t=Q(n);function n(e){var r;x()(this,n),r=t.call(this,e);var o=e.title;return r.state={titleInput:o},r.onToggleHiddenBlock=r.onToggleHiddenBlock.bind(A()(r)),r.onTitleChange=r.onTitleChange.bind(A()(r)),r.onTitleBlur=r.onTitleBlur.bind(A()(r)),r}return B()(n,[{key:"onTitleChange",value:function(e){this.setState({titleInput:e})}},{key:"onTitleBlur",value:function(){var e=this.props,t=e.onTitleUpdate,n=e.title,r=this.state.titleInput;""===r?this.setState({titleInput:n}):t&&t(r)}},{key:"onToggleHiddenBlock",value:function(e){var t=this;return function(){var n=Object(f.xor)(t.props.hiddenBlocks,[e]);t.props.onChangeHiddenBlocks(n)}}},{key:"render",value:function(){var e=this.props,t=e.component,n=o()(e,["component"]),r=this.state.titleInput;return Object(s.createElement)("div",{className:"woocommerce-dashboard-section"},Object(s.createElement)(t,T()({onTitleChange:this.onTitleChange,onTitleBlur:this.onTitleBlur,onToggleHiddenBlock:this.onToggleHiddenBlock,titleInput:r,controls:L},n)))}}]),n}(s.Component),G=n(605),J=n(598);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=Object(m.applyFilters)("woocommerce_admin_dashboard_filters",[]);t.default=Object(d.compose)(Object(y.withSelect)((function(e){return{defaultDateRange:e(_.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings").woocommerce_default_date_range}})))((function(e){var t,n,r,c,i,a,d,m,v,y=e.defaultDateRange,w=e.path,E=e.query,S=Object(_.useUserPreferences)(),C=S.updateUserPreferences,T=function(e){if(!e||0===e.length)return D;var t=D.map((function(e){return e.key})),n=e.map((function(e){return e.key})),r=new Set([].concat(l()(n),l()(t))),o=[];return r.forEach((function(t){var n=D.find((function(e){return e.key===t}));if(n){var r=e.find((function(e){return e.key===t}));o.push(K(K({},n),r))}})),o}(o()(S,["updateUserPreferences"]).dashboard_sections),F=function(e){C({dashboard_sections:e})},x=function(e,t){var n=T.map((function(n){return n.key===e?K(K({},n),t):n}));F(n)},P=function(e){return function(t){Object(k.recordEvent)("dash_section_rename",{key:e}),x(e,{title:t})}},B=function(e,t){return function(){t&&t();var n=T.findIndex((function(t){return e===t.key})),r=T.splice(n,1).shift();r.isVisible=!r.isVisible,T.push(r),r.isVisible?Object(k.recordEvent)("dash_section_add",{key:r.key}):Object(k.recordEvent)("dash_section_remove",{key:r.key}),F(T)}},R=function e(t,n){var r=T.splice(t,1).shift(),o=t+n;if(T[n<0?o:o-1].isVisible||0===t||t===T.length-1){T.splice(o,0,r),F(T);var c={key:r.key,direction:n>0?"down":"up"};Object(k.recordEvent)("dash_section_order_change",c)}else e(t,n+n)};return Object(s.createElement)(J.a.Provider,{value:Object(J.b)(Object(j.getQuery)())},(n=Object(g.getDateParamsFromQuery)(E,y),r=n.period,c=n.compare,i=n.before,a=n.after,d=Object(g.getCurrentDates)(E,y),m={period:r,compare:c,before:i,after:a,primaryDate:d.primary,secondaryDate:d.secondary},v=T.filter((function(e){return e.isVisible})).map((function(e){return e.key})),Object(s.createElement)(s.Fragment,null,Object(s.createElement)(G.a,{report:"dashboard",query:E,path:w,dateQuery:m,isoDateFormat:g.isoDateFormat,filters:W}),T.map((function(e,t){return e.isVisible?Object(s.createElement)(z,{component:e.component,hiddenBlocks:e.hiddenBlocks,key:e.key,onChangeHiddenBlocks:(n=e.key,function(e){x(n,{hiddenBlocks:e})}),onTitleUpdate:P(e.key),path:w,query:E,title:e.title,onMove:Object(f.partial)(R,t),onRemove:B(e.key),isFirst:e.key===v[0],isLast:e.key===v[v.length-1],filters:W}):null;var n})),0===(t=T.filter((function(e){return!1===e.isVisible}))).length?null:Object(s.createElement)(p.Dropdown,{position:"top center",className:"woocommerce-dashboard-section__add-more",renderToggle:function(e){var t=e.onToggle,n=e.isOpen;return Object(s.createElement)(p.Button,{onClick:t,title:Object(u.__)("Add more sections",'woocommerce'),"aria-expanded":n},Object(s.createElement)(b.a,{icon:h}))},renderContent:function(e){var n=e.onToggle;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(O.H,null,Object(u.__)("Dashboard Sections",'woocommerce')),Object(s.createElement)("div",{className:"woocommerce-dashboard-section__add-more-choices"},t.map((function(e){return Object(s.createElement)(p.Button,{key:e.key,onClick:B(e.key,n),className:"woocommerce-dashboard-section__add-more-btn",title:Object(u.sprintf)(Object(u.__)("Add %s section",'woocommerce'),e.title)},Object(s.createElement)(p.Icon,{icon:e.icon,size:30}),Object(s.createElement)("span",{className:"woocommerce-dashboard-section__add-more-btn-title"},e.title))}))))}}))))}))}}]);